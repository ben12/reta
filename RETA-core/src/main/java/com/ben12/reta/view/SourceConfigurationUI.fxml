<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.control.cell.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.*?>
<?import com.ben12.reta.view.control.*?>
<?import com.ben12.reta.view.validation.*?>

<TitledPane xmlns:fx="http://javafx.com/fxml" fx:controller="com.ben12.reta.view.SourceConfigurationController"
	fx:id="titledPane" prefWidth="400" prefHeight="500">
	<content>
		<ScrollPane fitToHeight="true" fitToWidth="true">
			<content>
				<GridPane hgap="5" vgap="5">
					<padding>
						<Insets bottom="5" left="5" right="5" top="5" />
					</padding>
					<columnConstraints>
						<ColumnConstraints minWidth="50" />
						<ColumnConstraints minWidth="100" hgrow="ALWAYS" />
						<ColumnConstraints minWidth="50" />
						<ColumnConstraints minWidth="50" />
					</columnConstraints>
					<children>
						<Label minHeight="25" GridPane.columnIndex="0" GridPane.rowIndex="0" text="%rename" />
						<ValidationDecorator fx:id="name" GridPane.columnIndex="1" GridPane.rowIndex="0"
							GridPane.columnSpan="3">
							<TextField fx:id="nameField" promptText="%rename.help">
								<tooltip>
									<RETATooltip text="${nameField.text}" />
								</tooltip>
							</TextField>
						</ValidationDecorator>

						<Label minHeight="25" GridPane.columnIndex="0" GridPane.rowIndex="1" text="%path" />
						<ValidationDecorator fx:id="sourcePath" GridPane.columnIndex="1" GridPane.rowIndex="1">
							<TextField fx:id="sourcePathField" promptText="%path.help">
								<tooltip>
									<RETATooltip text="${sourcePathField.text}" />
								</tooltip>
							</TextField>
						</ValidationDecorator>
						<Button text="%soure.file" GridPane.columnIndex="2" GridPane.rowIndex="1" maxWidth="10000" onAction="#chooseSourcePathFile">
							<tooltip>
								<RETATooltip text="%soure.file.help" />
							</tooltip>
						</Button>
						<Button text="%source.folder" GridPane.columnIndex="3" GridPane.rowIndex="1" maxWidth="10000"
							onAction="#chooseSourcePathFolder">
							<tooltip>
								<RETATooltip text="%source.folder.help" />
							</tooltip>
						</Button>

						<Label minHeight="25" GridPane.columnIndex="0" GridPane.rowIndex="2" text="%filter" />
						<ValidationDecorator fx:id="filter" GridPane.columnIndex="1" GridPane.rowIndex="2"
							GridPane.columnSpan="3">
							<TextField fx:id="filterField" promptText="%filter.help">
								<tooltip>
									<RETATooltip text="${filterField.text}" />
								</tooltip>
							</TextField>
						</ValidationDecorator>

						<Label minHeight="25" GridPane.columnIndex="0" GridPane.rowIndex="3" text="%req.start" />
						<ValidationDecorator fx:id="reqStart" GridPane.columnIndex="1" GridPane.rowIndex="3"
							GridPane.columnSpan="3">
							<TextField fx:id="reqStartField" promptText="%req.start.help">
								<tooltip>
									<RETATooltip text="${reqStartField.text}" />
								</tooltip>
							</TextField>
						</ValidationDecorator>

						<Label minHeight="25" GridPane.columnIndex="0" GridPane.rowIndex="4" text="%req.end" />
						<ValidationDecorator fx:id="reqEnd" GridPane.columnIndex="1" GridPane.rowIndex="4"
							GridPane.columnSpan="3">
							<TextField fx:id="reqEndField" promptText="%req.end.help">
								<tooltip>
									<RETATooltip text="${reqEndField.text}" />
								</tooltip>
							</TextField>
						</ValidationDecorator>

						<Label minHeight="25" GridPane.columnIndex="0" GridPane.rowIndex="5" text="%req.ref" />
						<ValidationDecorator fx:id="reqRef" GridPane.columnIndex="1" GridPane.rowIndex="5"
							GridPane.columnSpan="3">
							<TextField fx:id="reqRefField" promptText="%req.ref.help">
								<tooltip>
									<RETATooltip text="${reqRefField.text}" />
								</tooltip>
							</TextField>
						</ValidationDecorator>

						<Label minHeight="25" GridPane.columnIndex="0" GridPane.rowIndex="6" text="%covers" />
						<ValidationDecorator fx:id="covers" GridPane.columnIndex="1" GridPane.rowIndex="6"
							GridPane.columnSpan="3">
							<TextField fx:id="coversField" promptText="%covers.help">
								<tooltip>
									<RETATooltip text="${coversField.text}" />
								</tooltip>
							</TextField>
						</ValidationDecorator>

						<GridPane hgap="2" GridPane.columnIndex="0" GridPane.rowIndex="7" GridPane.columnSpan="4">
							<padding>
								<Insets bottom="2" left="2" right="2" top="2" />
							</padding>
							<columnConstraints>
								<ColumnConstraints minWidth="50" />
								<ColumnConstraints hgrow="ALWAYS" />
							</columnConstraints>
							<rowConstraints>
								<RowConstraints vgrow="NEVER" />
								<RowConstraints vgrow="ALWAYS" valignment="TOP" />
								<RowConstraints vgrow="NEVER" />
							</rowConstraints>
							<children>
								<HBox GridPane.columnIndex="0" GridPane.rowIndex="0" GridPane.columnSpan="2" spacing="5" alignment="BASELINE_LEFT">
									<children>
										<Separator HBox.hgrow="ALWAYS" />
										<Label textFill="DIMGREY" text="%req.start.att.title" />
										<Separator HBox.hgrow="ALWAYS" />
									</children>
								</HBox>

								<Button fx:id="deleteAttribute" GridPane.columnIndex="0" GridPane.rowIndex="1" text="%delete.att.index"
									maxWidth="1000" onAction="#deleteAttribute" />

								<ValidationDecorator fx:id="attributesTable" GridPane.columnIndex="1" GridPane.rowIndex="1">
									<MapTableView minHeight="50" editable="true">
										<columns>
											<TableColumn fx:id="reqAttNameColumn" text="%attribute" />
											<TableColumn fx:id="reqAttGroupColumn" text="%req.start.att.index" sortType="ASCENDING" />
										</columns>
										<columnResizePolicy>
											<TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
										</columnResizePolicy>
									</MapTableView>
								</ValidationDecorator>

								<HBox GridPane.columnIndex="1" GridPane.rowIndex="2" spacing="5">
									<children>
										<TextField fx:id="newAttribute" promptText="%new.att.index.help" prefWidth="${reqAttNameColumn.width}" />
										<Button fx:id="addNewAttribute" text="%new.att.index" minWidth="50" onAction="#addNewAttribute" />
									</children>
								</HBox>
							</children>
						</GridPane>

						<GridPane hgap="2" GridPane.columnIndex="0" GridPane.rowIndex="8" GridPane.columnSpan="4">
							<padding>
								<Insets bottom="2" left="2" right="2" top="2" />
							</padding>
							<columnConstraints>
								<ColumnConstraints minWidth="50" />
								<ColumnConstraints hgrow="ALWAYS" />
							</columnConstraints>
							<rowConstraints>
								<RowConstraints vgrow="NEVER" />
								<RowConstraints vgrow="ALWAYS" valignment="TOP" />
								<RowConstraints vgrow="NEVER" />
							</rowConstraints>
							<children>
								<HBox GridPane.columnIndex="0" GridPane.rowIndex="0" GridPane.columnSpan="2" spacing="5" alignment="BASELINE_LEFT">
									<children>
										<Separator HBox.hgrow="ALWAYS" />
										<Label textFill="DIMGREY" text="%ref.att.title" />
										<Separator HBox.hgrow="ALWAYS" />
									</children>
								</HBox>

								<Button fx:id="deleteReference" GridPane.columnIndex="0" GridPane.rowIndex="1" text="%delete.att.index"
									maxWidth="1000" onAction="#deleteReference" />

								<MapTableView fx:id="referencesTable" minHeight="50" GridPane.columnIndex="1" GridPane.rowIndex="1"
									editable="true">
									<columns>
										<TableColumn fx:id="refAttNameColumn" text="%attribute" />
										<TableColumn fx:id="refAttGroupColumn" text="%ref.att.index" sortType="ASCENDING" />
									</columns>
									<columnResizePolicy>
										<TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
									</columnResizePolicy>
								</MapTableView>

								<HBox GridPane.columnIndex="1" GridPane.rowIndex="2" spacing="5">
									<children>
										<TextField fx:id="newReference" promptText="%new.att.index.help" prefWidth="${reqAttNameColumn.width}" />
										<Button fx:id="addNewReference" text="%new.att.index" minWidth="50" onAction="#addNewReference" />
									</children>
								</HBox>
							</children>
						</GridPane>
						<HBox alignment="CENTER_RIGHT" spacing="5" GridPane.columnIndex="0" GridPane.rowIndex="9"
							GridPane.columnSpan="4">
							<children>
								<TextField fx:id="previewLimit" HBox.hgrow="ALWAYS" promptText="%preview.limit.help" />
								<Button fx:id="preview" text="%preview.button" minWidth="50" onAction="#preview" />
							</children>
						</HBox>
					</children>
				</GridPane>
			</content>
		</ScrollPane>
	</content>
</TitledPane>
